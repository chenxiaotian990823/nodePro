{"version":3,"sources":["webpack:///./src/assets/zhuan.jpg","webpack:///./src/views/lottery/index.vue?91a7","webpack:///./src/views/lottery/index.vue","webpack:///./src/views/lottery/index.vue?77c8","webpack:///./src/views/lottery/index.vue?cda6"],"names":["module","exports","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","ref","src","alt","_hoisted_5","_hoisted_6","_hoisted_7","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_button","onClick","toDraw","default","_","name","data","rotate","resetRotate","hitId","drawStatus","mounted","_this","this","regeneratorRuntime","mark","_callee","evenTransition","img","that","hitAre","tranHand","wrap","_context","prev","next","style","transition","transform","concat","alert","$nextTick","whichTransitionEvent","$refs","rotImg","addEventListener","stop","methods","start","console","log","reset","idx","getRandomInt","addRotate","allRotate","setRotate","deg","rest","min","max","Math","ceil","floor","random","el","document","createElement","transitions","OTransition","MozTransition","WebkitTransition","t","undefined","__exports__"],"mappings":"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","file":"js/chunk-02637e39.e596a7d6.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/zhuan.7f9ce775.jpg\";","import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '../../assets/zhuan.jpg';\nvar _hoisted_1 = {\n  class: \"lottery\"\n};\nvar _hoisted_2 = {\n  class: \"box\"\n};\nvar _hoisted_3 = {\n  class: \"round_box\"\n};\nvar _hoisted_4 = {\n  class: \"img_rotate\",\n  ref: \"rotImg\",\n  src: _imports_0,\n  alt: \"\"\n};\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"center\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"pointer\"\n})], -1);\n\nvar _hoisted_6 = {\n  class: \"btn\"\n};\n\nvar _hoisted_7 = /*#__PURE__*/_createTextVNode(\"点击抽奖\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_el_button = _resolveComponent(\"el-button\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", _hoisted_4, null, 512), _hoisted_5]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_button, {\n    onClick: $options.toDraw\n  }, {\n    default: _withCtx(function () {\n      return [_hoisted_7];\n    }),\n    _: 1\n  }, 8, [\"onClick\"])])])]);\n}","import _asyncToGenerator from \"E:/vue3Test/myPro/mypro/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nexport default {\n  name: \"rotaryDraw\",\n  data: function data() {\n    return {\n      rotate: 0,\n      resetRotate: 0,\n      hitId: 1,\n      // 1-10\n      drawStatus: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var evenTransition, img, that, hitAre, tranHand;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              tranHand = function _tranHand() {\n                // 复位\n                that.resetRotate = that.rotate > 360 ? that.rotate % 360 : 0;\n                img.style.transition = \"none 0s ease 0s\";\n                img.style.transform = \"rotate(\".concat(that.resetRotate, \"deg)\");\n                alert(\"\\u62BD\\u5956\\u7ED3\\u679C\\u3010 \".concat(hitAre[that.hitId - 1], \" \\u3011\"));\n                that.drawStatus = false;\n              };\n\n              _context.next = 3;\n              return _this.$nextTick();\n\n            case 3:\n              evenTransition = _this.whichTransitionEvent();\n              img = _this.$refs.rotImg;\n              that = _this;\n              hitAre = [\"30M流量包\", \"20金币\", \"20M流量包\", \"10M流量包\", \"5金币\", \"谢谢参与\", \"10金币\", \"50M流量包\", \"2金币\", \"100M流量包\"]; // 监听 动画结束\n\n              img.addEventListener(evenTransition, tranHand, false);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    start: function start() {\n      this.$refs.rotImg.style.transition = \"all 3s ease 0s\";\n      this.$refs.rotImg.style.transform = \"rotate(\".concat(this.rotate, \"deg)\");\n    },\n    toDraw: function toDraw() {\n      if (this.drawStatus) {\n        console.log(\"正在抽奖中\");\n        return;\n      } // 标记状态\n\n\n      this.drawStatus = true;\n      /**\r\n       * 圆盘共 10 份 每份 36度, 停位置(id)度数 (id - 1)*36\r\n       * 基数 3圈 360*4\r\n       * this.rotate 当前角度\r\n       * **/\n\n      var reset = 360 * 4;\n      var idx = this.getRandomInt(1, 11); // 设置命中\n\n      this.hitId = idx; // 需要多转角度\n\n      var addRotate = this.resetRotate > 0 ? 360 - this.resetRotate : 0; // 总共角度\n\n      var allRotate = this.rotate + (idx - 1) * 36 + reset + addRotate; // 角度限制\n\n      this.rotate = this.setRotate(allRotate);\n      this.start();\n    },\n    // 递归计算角度 不超过 360*6\n    setRotate: function setRotate(deg) {\n      var rest = deg - 360;\n      return rest > 360 * 6 ? this.setRotate(rest) : deg;\n    },\n    getRandomInt: function getRandomInt(min, max) {\n      // 向上收\n      min = Math.ceil(min); // 向下收\n\n      max = Math.floor(max);\n      return Math.floor(Math.random() * (max - min)) + min; //不含最大值，含最小值\n    },\n    // 动画兼容\n    whichTransitionEvent: function whichTransitionEvent() {\n      var el = document.createElement(\"span\"),\n          transitions = {\n        transition: \"transitionend\",\n        OTransition: \"oTransitionEnd\",\n        MozTransition: \"transitionend\",\n        WebkitTransition: \"webkitTransitionEnd\"\n      };\n\n      for (var t in transitions) {\n        if (el.style[t] !== undefined) {\n          return transitions[t];\n        }\n      }\n\n      el = null;\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./index.vue?vue&type=template&id=81ba7fca\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=81ba7fca&lang=less\"\n\nimport exportComponent from \"E:\\\\vue3Test\\\\myPro\\\\mypro\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* unplugin-vue-components disabled */export * from \"-!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--34-0!../../../node_modules/unplugin/dist/webpack/loaders/transform.js??ref--35-0!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=81ba7fca&lang=less\""],"sourceRoot":""}